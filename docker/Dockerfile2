FROM barischrooneyj/bridge-sim-base

# Copy bridge sim project.
COPY . /bridge-sim
WORKDIR /bridge-sim
RUN touch .git # Necessary for bridge-sim to find project root.

# Install Python and project dependencies.
RUN yes | pyenv install $(cat .python-version)
RUN pip install poetry
RUN poetry install

# Test run the example.
RUN poetry run python scripts/dockerize-example.py
RUN poetry run python example.py
